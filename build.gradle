plugins {
    id 'java'
    id "io.spring.dependency-management" version "1.0.8.RELEASE"
}

ext {
    versions = [
            java  : JavaVersion.VERSION_11,
            lombok: "1.18.8",
            junit : '5.5.1'
    ]
}

sourceCompatibility = versions.java
targetCompatibility = versions.java

dependencyManagement {
    imports {
        mavenBom 'io.spring.platform:platform-bom:Cairo-SR7'
        mavenBom "org.junit:junit-bom:${versions.junit}"
    }
    dependencies {
        dependency "org.projectlombok:lombok:${versions.lombok}"
        dependency "io.reactivex.rxjava2:rxjava:${versions.rxjava2}"
    }
}

dependencies {
    annotationProcessor 'org.projectlombok:lombok'
    compileOnly 'org.projectlombok:lombok'
    testAnnotationProcessor 'org.projectlombok:lombok'
    testCompile 'org.projectlombok:lombok'

    compile 'com.google.code.findbugs:jsr305:3.0.2'
    compile 'org.apache.commons:commons-csv:1.7'

    compile 'com.google.guava:guava:28.1-jre'

    testCompile "org.junit.jupiter:junit-jupiter-api"
    testCompile "org.junit.jupiter:junit-jupiter-engine"
    testCompile "org.junit.jupiter:junit-jupiter-params"
}

// In this section you declare where to find the dependencies of your project
repositories {
    jcenter()
}

test {

    useJUnitPlatform {
        excludeTags 'integration'
        includeEngines 'junit-jupiter'
    }

    enableAssertions = true
    testLogging.showStandardStreams = false

    include '**/**Test.*'
    include '**/**Tests.*'
}

wrapper {
    gradleVersion = "5.6.1"
    distributionType = Wrapper.DistributionType.ALL
}
